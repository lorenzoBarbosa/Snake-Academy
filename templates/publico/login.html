{% extends "index_publico.html" %}
{% block conteudo %}
<article>
    <div class="login-container">
        <div class="login-esquerda">
            <div class="imagem-login">
                <img src="/static/img/telas_de_fundo/snake_login_sem_fundo.svg" alt=""
                    style="width: 4500px; height: auto; max-width: 100%;">
            </div>
        </div>
        <div class="login-direita">
            <div class="container-login">
                <h3 class="mb-4 text-start">Login</h3>
                <form action="/login" method="post">
                    {% if redirect %}
                    <input type="hidden" name="redirect" value="{{ redirect }}">
                    {% endif %}
                    <div class="mb-3">
                        <input type="email"
                            class="form-control {% if erro and 'email' in erro.lower() %}is-invalid{% endif %}"
                            placeholder="Email ou nome de usuÃ¡rio" id="email" name="email"
                            value="{{ dados.email if dados else '' }}" required autofocus>

                        {% if erro and 'email' in erro.lower() %}
                        {% set partes = erro.split('|') %}
                        {% for parte in partes %}
                        {% if 'email' in parte.lower() %}
                        <div class="invalid-feedback">{{ parte.strip() }}</div>
                        {% endif %}
                        {% endfor %}
                        {% endif %}
                    </div>
                    <div class="mb-4">
                        <input type="password"
                            class="form-control {% if erro and 'senha' in erro.lower() %}is-invalid{% endif %}"
                            placeholder="Senha" name="senha" id="senha"
                            required autofocus>
                            

                        {% if erro and 'senha' in erro.lower() %}
                        {% set partes = erro.split('|') %}
                        {% for parte in partes %}
                        {% if 'senha' in parte.lower() %}
                        <div class="invalid-feedback">{{ parte.strip() }}</div>
                        {% endif %}
                        {% endfor %}
                        {% endif %}
                        <div id="acessar-recuperar-senha-login" class="mt-3 text-center"> <a
                                href="/validacao_email">Esqueci minha senha</a> </div>
                    </div>
                    <button type="submit" class="btn botao-roxo-lc w-100">Entrar</button>
                    {% if mensagem %}
                    <div class="alert alert-danger mt-3">{{ mensagem }}</div>
                    {% endif %}
                </form>

                <div class="mt-4 text-center">
                    <p>Ou entre com:</p>
                    <div class="social-icons d-flex justify-content-center gap-3">
                        <img src="https://cdn-icons-png.flaticon.com/512/733/733547.png" alt="Facebook" width="32">
                        <img src="https://cdn-icons-png.flaticon.com/512/300/300221.png" alt="Google" width="32">
                        <img src="https://cdn-icons-png.flaticon.com/512/732/732221.png" alt="Microsoft" width="32">
                    </div>
                </div>
            </div>
        </div>
    </div>
</article>
{% endblock %}