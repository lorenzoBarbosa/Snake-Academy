{% extends "index.html" %}
{% block conteudo %}
<style>
        body {
            background-color: #f8f9fa;
        }

        /* Estilos da sidebar */
        article {
            display: flex;
            position: relative;
            min-height: 100vh;
        }

        .sidebar-container {
            position: relative;
            width: 50px;
            background-color: #ffffff;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
            transition: width 0.3s ease;
            overflow: hidden;
            flex-shrink: 0;
        }

        .sidebar-container:hover {
            width: 250px;
        }

        .sidebar-content {
            padding: 20px 0;
            width: 250px;
        }

        .sidebar-item {
            display: flex;
            align-items: center;
            padding: 15px 12px;
            cursor: pointer;
            transition: background-color 0.2s ease;
            text-decoration: none;
            color: #333;
        }

        .sidebar-item:hover {
            background-color: #f0f0f0;
        }

        .sidebar-icon {
            min-width: 26px;
            font-size: 22px;
            color: #5C22AD;
            display: flex;
            justify-content: center;
        }

        .sidebar-text {
            margin-left: 15px;
            white-space: nowrap;
            font-size: 14px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .sidebar-container:hover .sidebar-text {
            opacity: 1;
        }

        .content-wrapper {
            flex: 1;
            padding: 0;
        }

        /* Navbar */
        .demo-navbar {
            background-color: #5C22AD;
            color: white;
            padding: 15px;
            text-align: center;
            font-size: 1.2rem;
            font-weight: bold;
        }

        /* Estilos da página */
        .titulo-pagina {
            font-size: 2.2rem;
            font-weight: bold;
            color: #333;
            margin: 30px 0 10px 0;
        }

        .subtitulo-pagina {
            font-size: 1rem;
            color: #666;
            margin-bottom: 30px;
        }

        /* Barra de ferramentas */
        .toolbar {
            background-color: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            align-items: center;
            justify-content: space-between;
        }

        .search-box {
            flex: 1;
            min-width: 250px;
        }

        .search-input {
            width: 100%;
            padding: 12px 15px 12px 45px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%23666' viewBox='0 0 16 16'%3E%3Cpath d='M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: 15px center;
        }

        .search-input:focus {
            outline: none;
            border-color: #5C22AD;
        }

        .filter-select {
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: border-color 0.3s ease;
        }

        .filter-select:focus {
            outline: none;
            border-color: #5C22AD;
        }

        .btn-novo-curso {
            background-color: #5C22AD;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .btn-novo-curso:hover {
            background-color: #4a1b8d;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(92, 34, 173, 0.3);
        }

        /* Grid de cursos */
        .cursos-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 25px;
            margin-bottom: 50px;
        }

        /* Card do curso */
        .curso-card {
            background-color: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .curso-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        .curso-capa {
            width: 100%;
            height: 180px;
            object-fit: cover;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
            position: relative;
        }

        .curso-status {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .status-ativo {
            background-color: #4caf50;
            color: white;
        }

        .status-rascunho {
            background-color: #ff9800;
            color: white;
        }

        .curso-conteudo {
            padding: 20px;
        }

        .curso-nome {
            font-size: 1.2rem;
            font-weight: bold;
            color: #333;
            margin-bottom: 15px;
            line-height: 1.4;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .curso-stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #e0e0e0;
        }

        .stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }

        .stat-valor {
            font-size: 1.3rem;
            font-weight: bold;
            color: #5C22AD;
        }

        .stat-label {
            font-size: 0.8rem;
            color: #666;
        }

        .curso-avaliacao {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 15px;
        }

        .estrelas {
            color: #ffc107;
            font-size: 1.1rem;
        }

        .avaliacao-numero {
            font-weight: 600;
            color: #333;
        }

        .curso-acoes {
            display: flex;
            gap: 8px;
        }

        .btn-acao {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }

        .btn-gerenciar {
            background-color: #5C22AD;
            color: white;
        }

        .btn-gerenciar:hover {
            background-color: #4a1b8d;
        }

        .btn-estatisticas {
            background-color: #e3f2fd;
            color: #1976d2;
        }

        .btn-estatisticas:hover {
            background-color: #1976d2;
            color: white;
        }

        /* Estado vazio */
        .estado-vazio {
            text-align: center;
            padding: 80px 20px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }

        .estado-vazio i {
            font-size: 5rem;
            color: #5C22AD;
            opacity: 0.3;
            margin-bottom: 20px;
        }

        .estado-vazio h3 {
            color: #333;
            margin-bottom: 10px;
        }

        .estado-vazio p {
            color: #666;
            margin-bottom: 30px;
        }

        /* Estatísticas resumidas */
        .stats-resumo {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background-color: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            text-align: center;
        }

        .stat-card-icone {
            font-size: 2.5rem;
            color: #5C22AD;
            margin-bottom: 10px;
        }

        .stat-card-valor {
            font-size: 2rem;
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }

        .stat-card-label {
            font-size: 0.9rem;
            color: #666;
        }

        .demo-footer {
            background-color: #333;
            color: white;
            padding: 30px;
            text-align: center;
            margin-top: 50px;
        }
    </style>
        <!-- Conteúdo Principal -->
        <div class="content-wrapper">
            <div class="container" style="max-width: 1400px; padding: 20px;">
                <h1 class="titulo-pagina">
                    <i class="bi bi-book-fill" style="color: #5C22AD;"></i> 
                    Meus Cursos
                </h1>
                <p class="subtitulo-pagina">Gerencie todos os seus cursos em um só lugar</p>

                <!-- Estatísticas Resumidas -->
                <div class="stats-resumo">
                    <div class="stat-card">
                        <div class="stat-card-icone"><i class="bi bi-book"></i></div>
                        <div class="stat-card-valor">12</div>
                        <div class="stat-card-label">Total de Cursos</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-icone"><i class="bi bi-people"></i></div>
                        <div class="stat-card-valor">1.847</div>
                        <div class="stat-card-label">Total de Alunos</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-icone"><i class="bi bi-star"></i></div>
                        <div class="stat-card-valor">4.7</div>
                        <div class="stat-card-label">Avaliação Média</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-icone"><i class="bi bi-cash-stack"></i></div>
                        <div class="stat-card-valor">R$ 28.450</div>
                        <div class="stat-card-label">Receita Total</div>
                    </div>
                </div>

                <!-- Barra de Ferramentas -->
                <div class="toolbar">
                    <div class="search-box">
                        <input type="text" class="search-input" id="searchInput" placeholder="Buscar cursos..." onkeyup="filtrarCursos()">
                    </div>
                    <select class="filter-select" id="filterStatus" onchange="filtrarCursos()">
                        <option value="todos">Todos os status</option>
                        <option value="ativo">Ativos</option>
                        <option value="rascunho">Rascunhos</option>
                    </select>
                    <select class="filter-select" id="filterOrdem" onchange="ordenarCursos()">
                        <option value="recente">Mais recentes</option>
                        <option value="antigo">Mais antigos</option>
                        <option value="alunos">Mais alunos</option>
                        <option value="avaliacao">Melhor avaliação</option>
                    </select>
                    <button class="btn-novo-curso" onclick="novoCurso()">
                        <i class="bi bi-plus-lg"></i> Novo Curso
                    </button>
                </div>

                <!-- Grid de Cursos -->
                <div class="cursos-grid" id="cursosGrid">
                    <!-- Os cursos serão renderizados aqui -->
                </div>
            </div>
        </div>
    </article>

    <!-- Footer -->
    <div class="demo-footer">
        <p>Plataforma de Cursos © 2025 - Todos os direitos reservados</p>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script>
        // Dados de exemplo dos cursos
        let cursos = [
            {
                id: 1,
                nome: "Python para Iniciantes: Do Zero ao Avançado",
                capa: "https://via.placeholder.com/400x250/5C22AD/ffffff?text=Python",
                alunos: 542,
                avaliacao: 4.8,
                totalAvaliacoes: 128,
                status: "ativo",
                receita: 12450
            },
            {
                id: 2,
                nome: "JavaScript Moderno e React",
                capa: "https://via.placeholder.com/400x250/667eea/ffffff?text=JavaScript",
                alunos: 387,
                avaliacao: 4.6,
                totalAvaliacoes: 95,
                status: "ativo",
                receita: 8920
            },
            {
                id: 3,
                nome: "Design UI/UX com Figma",
                capa: "https://via.placeholder.com/400x250/764ba2/ffffff?text=Design",
                alunos: 234,
                avaliacao: 4.9,
                totalAvaliacoes: 67,
                status: "ativo",
                receita: 5680
            },
            {
                id: 4,
                nome: "Marketing Digital para Negócios",
                capa: "https://via.placeholder.com/400x250/f093fb/ffffff?text=Marketing",
                alunos: 198,
                avaliacao: 4.7,
                totalAvaliacoes: 54,
                status: "ativo",
                receita: 4750
            },
            {
                id: 5,
                nome: "Node.js e Express: Backend Completo",
                capa: "https://via.placeholder.com/400x250/4facfe/ffffff?text=Node.js",
                alunos: 156,
                avaliacao: 4.5,
                totalAvaliacoes: 42,
                status: "rascunho",
                receita: 0
            },
            {
                id: 6,
                nome: "SQL e Banco de Dados Relacionais",
                capa: "https://via.placeholder.com/400x250/00f2fe/ffffff?text=SQL",
                alunos: 289,
                avaliacao: 4.8,
                totalAvaliacoes: 78,
                status: "ativo",
                receita: 6890
            },
            {
                id: 7,
                nome: "Fotografia Profissional: Técnicas Avançadas",
                capa: "https://via.placeholder.com/400x250/43e97b/ffffff?text=Fotografia",
                alunos: 124,
                avaliacao: 4.9,
                totalAvaliacoes: 35,
                status: "ativo",
                receita: 3720
            },
            {
                id: 8,
                nome: "Excel para Análise de Dados",
                capa: "https://via.placeholder.com/400x250/38f9d7/ffffff?text=Excel",
                alunos: 412,
                avaliacao: 4.6,
                totalAvaliacoes: 102,
                status: "ativo",
                receita: 9840
            }
        ];

        let cursosFiltrados = [...cursos];

        // Renderizar cursos
        function renderizarCursos() {
            const grid = document.getElementById('cursosGrid');

            if (cursosFiltrados.length === 0) {
                grid.innerHTML = `
                    <div class="estado-vazio" style="grid-column: 1 / -1;">
                        <i class="bi bi-search"></i>
                        <h3>Nenhum curso encontrado</h3>
                        <p>Tente ajustar os filtros de busca</p>
                    </div>
                `;
                return;
            }

            grid.innerHTML = cursosFiltrados.map(curso => `
                <div class="curso-card" onclick="verCurso(${curso.id})">
                    <div class="curso-capa" style="background: linear-gradient(135deg, ${gerarCorAleatoria()}, ${gerarCorAleatoria()})">
                        <i class="bi bi-play-circle-fill"></i>
                        <span class="curso-status ${curso.status === 'ativo' ? 'status-ativo' : 'status-rascunho'}">
                            ${curso.status === 'ativo' ? 'Ativo' : 'Rascunho'}
                        </span>
                    </div>
                    <div class="curso-conteudo">
                        <h3 class="curso-nome">${curso.nome}</h3>
                        
                        <div class="curso-stats">
                            <div class="stat-item">
                                <div class="stat-valor">${curso.alunos}</div>
                                <div class="stat-label">Alunos</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-valor">${curso.avaliacao.toFixed(1)}</div>
                                <div class="stat-label">Avaliação</div>
                            </div>
                        </div>

                        <div class="curso-avaliacao">
                            <div class="estrelas">
                                ${gerarEstrelas(curso.avaliacao)}
                            </div>
                            <span class="avaliacao-numero">${curso.avaliacao.toFixed(1)}</span>
                            <span style="color: #999; font-size: 0.85rem;">(${curso.totalAvaliacoes})</span>
                        </div>

                        <div class="curso-acoes" onclick="event.stopPropagation()">
                            <button class="btn-acao btn-gerenciar" onclick="gerenciarCurso(${curso.id})">
                                <i class="bi bi-gear"></i> Gerenciar
                            </button>
                            <button class="btn-acao btn-estatisticas" onclick="verEstatisticas(${curso.id})">
                                <i class="bi bi-graph-up"></i> Stats
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Gerar estrelas de avaliação
        function gerarEstrelas(avaliacao) {
            const estrelaCheia = '<i class="bi bi-star-fill"></i>';
            const estrelaMeia = '<i class="bi bi-star-half"></i>';
            const estrelaVazia = '<i class="bi bi-star"></i>';
            
            let html = '';
            for (let i = 1; i <= 5; i++) {
                if (avaliacao >= i) {
                    html += estrelaCheia;
                } else if (avaliacao >= i - 0.5) {
                    html += estrelaMeia;
                } else {
                    html += estrelaVazia;
                }
            }
            return html;
        }

        // Gerar cor aleatória para gradiente
        function gerarCorAleatoria() {
            const cores = ['#667eea', '#764ba2', '#f093fb', '#4facfe', '#00f2fe', '#43e97b', '#38f9d7', '#5C22AD'];
            return cores[Math.floor(Math.random() * cores.length)];
        }

        // Filtrar cursos
        function filtrarCursos() {
            const busca = document.getElementById('searchInput').value.toLowerCase();
            const status = document.getElementById('filterStatus').value;

            cursosFiltrados = cursos.filter(curso => {
                const matchBusca = curso.nome.toLowerCase().includes(busca);
                const matchStatus = status === 'todos' || curso.status === status;
                return matchBusca && matchStatus;
            });

            renderizarCursos();
        }

        // Ordenar cursos
        function ordenarCursos() {
            const ordem = document.getElementById('filterOrdem').value;

            switch(ordem) {
                case 'recente':
                    cursosFiltrados.sort((a, b) => b.id - a.id);
                    break;
                case 'antigo':
                    cursosFiltrados.sort((a, b) => a.id - b.id);
                    break;
                case 'alunos':
                    cursosFiltrados.sort((a, b) => b.alunos - a.alunos);
                    break;
                case 'avaliacao':
                    cursosFiltrados.sort((a, b) => b.avaliacao - a.avaliacao);
                    break;
            }

            renderizarCursos();
        }

        // Ações
        function verCurso(id) {
            alert(`Visualizando curso ${id}`);
            // window.location.href = `curso-detalhes.html?id=${id}`;
        }

        function gerenciarCurso(id) {
            alert(`Gerenciando curso ${id}`);
            // window.location.href = `gerenciar-curso.html?id=${id}`;
        }

        function verEstatisticas(id) {
            const curso = cursos.find(c => c.id === id);
            alert(`Estatísticas do curso:\n\nAlunos: ${curso.alunos}\nAvaliação: ${curso.avaliacao}\nReceita: R$ ${curso.receita.toLocaleString('pt-BR')}`);
            // window.location.href = `estatisticas-curso.html?id=${id}`;
        }

        function novoCurso() {
            alert('Redirecionando para criar novo curso...');
            // window.location.href = 'criar-curso.html';
        }

        // Renderizar ao carregar
        renderizarCursos();
    </script>
</body>
</html>
{% endblock %}