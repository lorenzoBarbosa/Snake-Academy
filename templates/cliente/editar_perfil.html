{% extends "index.html" %}
{%block conteudo%}
<article>
    <div class="container-editar-perfil">
        <div class="editar-perfil">
            <div class="container-editar-imagem">
                <div class="d-flex justify-content-center">
                    <img id="foto-atual"
                        src="{{ usuario.foto or '/static/img/user-default.png' }}"
                        class="rounded-circle mb-3"
                        style="width: 150px; height: 150px; object-fit: cover; border: 3px solid #dee2e6;"
                        alt="Foto do perfil">
                </div>

                <!-- Preview da nova foto (inicialmente oculto) -->
                <div id="preview-foto-container" style="display: none;">
                    <div class="d-flex justify-content-center">
                        <img id="preview-foto"
                            src=""
                            class="rounded-circle mb-2"
                            style="width: 150px; height: 150px; object-fit: cover; border: 3px solid #28a745;"
                            alt="Preview da nova foto">
                    </div>
                    <div class="small text-success mb-2">
                        <i class="bi-check-circle"></i> Nova foto selecionada
                    </div>
                </div>
            </div>
            <div class="container-editar-dados">
                <p class="titulo-editar-perfil">
                    Editar Perfil
                </p>
                <form action="/cliente/editar-perfil" method="post">
                    <label for="nome">Nome</label>
                    <input class="input-editar-perfil" type="text" id="nome" name="nome" value="{{ usuario.nome }}" placeholder="Nome" require>
                    <label for="email">Email</label>
                    <input class="input-editar-perfil" type="email" id="email" name="email" value="{{ usuario.email }}" placeholder="Email" required>
                    <label for="telefone">Telefone</label>
                    <input class="input-editar-perfil" type="tel" id="telefone" name="telefone" value="{{ usuario.telefone }}" placeholder="Telefone" required>
                    <label for="data_nascimento">Data de Nascimento</label>
                    <input class="input-editar-perfil" type="date" id="data_nascimento" name="data_nascimento" value="{{ usuario.dataNascimento }}" required>
                    <button class="botao-login botao-salvar" type="submit">Salvar</button>
                </form>
            </div>
        </div>
    </div>
</article>  
{%endblock%}